---
title: "project"
author: "Yuren Pang"
date: "April 17, 2020"
output: html_document
runtime: shiny
---

```{r message=FALSE, warning=FALSE, include=FALSE, paged.print=FALSE}
library(shiny)
library(bayesrules)  # for the plotting functions
library(ggplot2)
```


```{r include=FALSE}
ui <- fluidPage(
  titlePanel("Probability of Contracting COVID-19"),
  
  sidebarLayout(
    sidebarPanel(
      sliderInput(inputId = "fever",
                   label = "Fever",
                   value = 0.879,
                   min = 0,
                   max = 1,
                   step = 0.001),
      
      sliderInput(inputId = "dryCough", 
                 label = "Dry Cough",
                 value = 0.677, 
                 min = 0,
                 max = 1,
                 step = 0.001),
      
      sliderInput(inputId = "fatigue", 
                 label = "Fatigue",
                 value = 0.381, 
                 min = 0,
                 max = 1,
                 step = 0.001),
      
      sliderInput(inputId = "shortBreath", 
                 label = "Shortness of Breath",
                 value = 0.186, 
                 min = 0,
                 max = 1,
                 step = 0.001),
      
      sliderInput(inputId = "sorethroat", 
                 label = "Sore Throat",
                 value = 0.139, 
                 min = 0,
                 max = 1,
                 step = 0.001),
      
      sliderInput(inputId = "headache", 
                 label = "Headache",
                 value = 0.136, 
                 min = 0,
                 max = 1,
                 step = 0.001),
      
      sliderInput(inputId = "chills", 
                 label = "Chills",
                 value = 0.114, 
                 min = 0,
                 max = 1,
                 step = 0.001),
      
      sliderInput(inputId = "nausea", 
                 label = "Nausea or Vomitting",
                 value = 0.050, 
                 min = 0,
                 max = 1,
                 step = 0.001),
      
      sliderInput(inputId = "congestion", 
                 label = "Congestion",
                 value = 0.048, 
                 min = 0,
                 max = 1,
                 step = 0.001),
      
      sliderInput(inputId = "diarrhea", 
                 label = "Diarrhea",
                 value = 0.047, 
                 min = 0,
                 max = 1,
                 step = 0.001),
      
      sliderInput(inputId = "jointache", 
                 label = "Joint Ache",
                 value = 0.148, 
                 min = 0,
                 max = 1,
                 step = 0.001)
    ),
    
    mainPanel(
      h4("Result"),
      tableOutput("priorTable"),
      h4(textOutput("result", container = span))
    )
  ) 
)
```

```{r include=FALSE}
server <- function(input, output) {

  output$view <- renderText({
    input$s1    
  })
  
  output$priorTable <- renderTable({
    df <- data.frame(fever = c(input$fever),
                   dryCough = c(input$dryCough),
                   fatigue = c(input$fatigue),
                   shortBreath = c(input$shortBreath),
                   sorethroat = c(input$sorethroat),
                   headache = c(input$headache),
                   chills = c(input$chills),
                   nausea = c(input$nausea),
                   congestion = c(input$congestion),
                   diarrhea = c(input$diarrhea),
                   jointache = c(input$jointache)
                   )
    
    df
  })
  
  output$result <- renderText({
    covid <- input$s1 * input$s2 * input$s3 * 0.002
    covid
  })
}
```

```{r echo=FALSE}
shinyApp(ui = ui, server = server)
```



